{
  "_format": "hh-sol-artifact-1",
  "contractName": "TrustLinkCore",
  "sourceName": "contracts/TrustLinkCore.sol",
  "abi": [
    {
      "inputs": [],
      "name": "AgreementAlreadyActive",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "AgreementNotExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAddress",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAgreement",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotAuthorized",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ProofAlreadyExists",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "partner",
          "type": "address"
        }
      ],
      "name": "AgreementAccepted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "cancelledBy",
          "type": "address"
        }
      ],
      "name": "AgreementCancelled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "initiator",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "partner",
          "type": "address"
        }
      ],
      "name": "AgreementCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "agreementId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "documentHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "submittedBy",
          "type": "address"
        }
      ],
      "name": "ProofRecorded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_agreementId",
          "type": "uint256"
        }
      ],
      "name": "acceptAgreement",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "agreements",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "initiator",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "partner",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_agreementId",
          "type": "uint256"
        }
      ],
      "name": "cancelAgreement",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_partner",
          "type": "address"
        }
      ],
      "name": "createAgreement",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_agreementId",
          "type": "uint256"
        }
      ],
      "name": "getAgreement",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "initiator",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "partner",
              "type": "address"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "createdAt",
              "type": "uint256"
            }
          ],
          "internalType": "struct ITrustLinkCore.Agreement",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalAgreements",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getUserAgreements",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_agreementId",
          "type": "uint256"
        }
      ],
      "name": "isAgreementActive",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "proofs",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "agreementId",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "documentHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "submittedBy",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_agreementId",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "_documentHash",
          "type": "bytes32"
        }
      ],
      "name": "recordProof",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "_documentHash",
          "type": "bytes32"
        }
      ],
      "name": "verifyProof",
      "outputs": [
        {
          "internalType": "bool",
          "name": "exists",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "agreementId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "submittedBy",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610ba3806100206000396000f3fe608060405234801561001057600080fd5b50600436106100a95760003560e01c8063884eb94911610071578063884eb949146101c7578063adb9cae6146101e8578063b142b4ec14610208578063b6e7911014610246578063bd14de9614610259578063bd933d1b146102dd57600080fd5b806310661851146100ae5780633ae776d2146100d6578063444d95b0146100eb5780634f9f6fe6146101545780635686b54b146101b4575b600080fd5b6100c16100bc366004610a97565b6102e5565b60405190151581526020015b60405180910390f35b6100e96100e4366004610a97565b610323565b005b61012b6100f9366004610a97565b60026020819052600091825260409091208054600182015492820154600390920154909291906001600160a01b031684565b604080519485526020850193909352918301526001600160a01b031660608201526080016100cd565b610167610162366004610a97565b61042f565b60408051825181526020808401516001600160a01b03908116918301919091528383015116918101919091526060808301511515908201526080918201519181019190915260a0016100cd565b6100e96101c2366004610a97565b6104ec565b6101da6101d5366004610ab0565b61061b565b6040519081526020016100cd565b6101fb6101f6366004610ab0565b610772565b6040516100cd9190610ae0565b61021b610216366004610a97565b6107de565b6040805194151585526020850193909352918301526001600160a01b031660608201526080016100cd565b6100e9610254366004610b24565b610867565b6102a7610267366004610a97565b600160208190526000918252604090912080549181015460028201546003909201546001600160a01b039182169291821691600160a01b900460ff169085565b604080519586526001600160a01b039485166020870152929093169184019190915215156060830152608082015260a0016100cd565b6000546101da565b60008181526004602052604081205460ff1661030357506000919050565b50600090815260016020526040902060020154600160a01b900460ff1690565b600081815260046020526040902054819060ff166103545760405163b5c6c3ab60e01b815260040160405180910390fd5b600082815260016020526040902060028101546001600160a01b0316331461038f5760405163ea8e4eb560e01b815260040160405180910390fd5b6002810154600160a01b900460ff16156103bc576040516397474ff360e01b815260040160405180910390fd5b60028101805460ff60a01b1916600160a01b179055336000818152600360209081526040808320805460018101825590845292829020909201869055905191825284917ff224101ad9200623928d9e682ba2635e7cc131c0927bce7b9c0ae8a8cb218793910160405180910390a2505050565b6040805160a08101825260008082526020820181905291810182905260608101829052608081019190915260008281526004602052604090205460ff166104895760405163b5c6c3ab60e01b815260040160405180910390fd5b50600090815260016020818152604092839020835160a08101855281548152928101546001600160a01b0390811692840192909252600281015491821693830193909352600160a01b900460ff1615156060820152600390910154608082015290565b600081815260046020526040902054819060ff1661051d5760405163b5c6c3ab60e01b815260040160405180910390fd5b600082815260016020818152604092839020835160a08101855281548152928101546001600160a01b03908116928401839052600282015490811694840194909452600160a01b90930460ff16151560608301526003909201546080820152839133148015906105a3575080604001516001600160a01b0316336001600160a01b031614155b156105c15760405163ea8e4eb560e01b815260040160405180910390fd5b60008481526001602090815260409182902060028101805460ff60a01b19169055915133815286917fbc4582906f1267fc1f22792d8da00979cfc526d95c149cc6e7c0ef730f592d6e910160405180910390a25050505050565b6000816001600160a01b0381166106455760405163e6c4247b60e01b815260040160405180910390fd5b336001600160a01b0384160361066e5760405163e6c4247b60e01b815260040160405180910390fd5b60008054908061067d83610b46565b9091555050600080546040805160a0810182528281523360208083018281526001600160a01b038a8116858701818152606087018a815242608089019081528a8c5260018088528a8d2099518a55955189870180549187166001600160a01b0319909216919091179055915160028901805492511515600160a01b026001600160a81b0319909316919095161717909255905160039586015560048352858820805460ff1916831790558388529382528487208054918201815587529086200184905591519293909284917fe037ec30313eecdd927ffae3beed86a87b82f7bb794966ec08d75cf1a6e8268691a49392505050565b6001600160a01b0381166000908152600360209081526040918290208054835181840281018401909452808452606093928301828280156107d257602002820191906000526020600020905b8154815260200190600101908083116107be575b50505050509050919050565b6000818152600260208181526040808420815160808101835281548152600182015493810193909352928301549082018190526003909201546001600160a01b03166060820152829182918291820361084557600080600080945094509450945050610860565b60018160400151826000015183606001519450945094509450505b9193509193565b600082815260046020526040902054829060ff166108985760405163b5c6c3ab60e01b815260040160405180910390fd5b600083815260016020818152604092839020835160a08101855281548152928101546001600160a01b03908116928401839052600282015490811694840194909452600160a01b90930460ff161515606083015260039092015460808201528491331480159061091e575080604001516001600160a01b0316336001600160a01b031614155b1561093c5760405163ea8e4eb560e01b815260040160405180910390fd5b600085815260016020818152604092839020835160a08101855281548152928101546001600160a01b0390811692840192909252600281015491821693830193909352600160a01b900460ff161515606082018190526003909201546080820152906109bb57604051637f0ed44d60e11b815260040160405180910390fd5b60008581526002602081905260409091200154156109ec5760405163b8cdb9bd60e01b815260040160405180910390fd5b60408051608081018252878152602080820188815242838501908152336060850181815260008c8152600280875290889020965187559351600187015591519285019290925551600390930180546001600160a01b0319166001600160a01b039094169390931790925582518881529081019190915287917f65beb38acd92cb0f98fb54a2eb7bdfc00e848e40abd871c0fda3282f03668316910160405180910390a2505050505050565b600060208284031215610aa957600080fd5b5035919050565b600060208284031215610ac257600080fd5b81356001600160a01b0381168114610ad957600080fd5b9392505050565b6020808252825182820181905260009190848201906040850190845b81811015610b1857835183529284019291840191600101610afc565b50909695505050505050565b60008060408385031215610b3757600080fd5b50508035926020909101359150565b600060018201610b6657634e487b7160e01b600052601160045260246000fd5b506001019056fea26469706673582212204e0a49fd0dba2aca55b32cdce2f839bb320d065af73e1b3d01cdb3b68842b34264736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100a95760003560e01c8063884eb94911610071578063884eb949146101c7578063adb9cae6146101e8578063b142b4ec14610208578063b6e7911014610246578063bd14de9614610259578063bd933d1b146102dd57600080fd5b806310661851146100ae5780633ae776d2146100d6578063444d95b0146100eb5780634f9f6fe6146101545780635686b54b146101b4575b600080fd5b6100c16100bc366004610a97565b6102e5565b60405190151581526020015b60405180910390f35b6100e96100e4366004610a97565b610323565b005b61012b6100f9366004610a97565b60026020819052600091825260409091208054600182015492820154600390920154909291906001600160a01b031684565b604080519485526020850193909352918301526001600160a01b031660608201526080016100cd565b610167610162366004610a97565b61042f565b60408051825181526020808401516001600160a01b03908116918301919091528383015116918101919091526060808301511515908201526080918201519181019190915260a0016100cd565b6100e96101c2366004610a97565b6104ec565b6101da6101d5366004610ab0565b61061b565b6040519081526020016100cd565b6101fb6101f6366004610ab0565b610772565b6040516100cd9190610ae0565b61021b610216366004610a97565b6107de565b6040805194151585526020850193909352918301526001600160a01b031660608201526080016100cd565b6100e9610254366004610b24565b610867565b6102a7610267366004610a97565b600160208190526000918252604090912080549181015460028201546003909201546001600160a01b039182169291821691600160a01b900460ff169085565b604080519586526001600160a01b039485166020870152929093169184019190915215156060830152608082015260a0016100cd565b6000546101da565b60008181526004602052604081205460ff1661030357506000919050565b50600090815260016020526040902060020154600160a01b900460ff1690565b600081815260046020526040902054819060ff166103545760405163b5c6c3ab60e01b815260040160405180910390fd5b600082815260016020526040902060028101546001600160a01b0316331461038f5760405163ea8e4eb560e01b815260040160405180910390fd5b6002810154600160a01b900460ff16156103bc576040516397474ff360e01b815260040160405180910390fd5b60028101805460ff60a01b1916600160a01b179055336000818152600360209081526040808320805460018101825590845292829020909201869055905191825284917ff224101ad9200623928d9e682ba2635e7cc131c0927bce7b9c0ae8a8cb218793910160405180910390a2505050565b6040805160a08101825260008082526020820181905291810182905260608101829052608081019190915260008281526004602052604090205460ff166104895760405163b5c6c3ab60e01b815260040160405180910390fd5b50600090815260016020818152604092839020835160a08101855281548152928101546001600160a01b0390811692840192909252600281015491821693830193909352600160a01b900460ff1615156060820152600390910154608082015290565b600081815260046020526040902054819060ff1661051d5760405163b5c6c3ab60e01b815260040160405180910390fd5b600082815260016020818152604092839020835160a08101855281548152928101546001600160a01b03908116928401839052600282015490811694840194909452600160a01b90930460ff16151560608301526003909201546080820152839133148015906105a3575080604001516001600160a01b0316336001600160a01b031614155b156105c15760405163ea8e4eb560e01b815260040160405180910390fd5b60008481526001602090815260409182902060028101805460ff60a01b19169055915133815286917fbc4582906f1267fc1f22792d8da00979cfc526d95c149cc6e7c0ef730f592d6e910160405180910390a25050505050565b6000816001600160a01b0381166106455760405163e6c4247b60e01b815260040160405180910390fd5b336001600160a01b0384160361066e5760405163e6c4247b60e01b815260040160405180910390fd5b60008054908061067d83610b46565b9091555050600080546040805160a0810182528281523360208083018281526001600160a01b038a8116858701818152606087018a815242608089019081528a8c5260018088528a8d2099518a55955189870180549187166001600160a01b0319909216919091179055915160028901805492511515600160a01b026001600160a81b0319909316919095161717909255905160039586015560048352858820805460ff1916831790558388529382528487208054918201815587529086200184905591519293909284917fe037ec30313eecdd927ffae3beed86a87b82f7bb794966ec08d75cf1a6e8268691a49392505050565b6001600160a01b0381166000908152600360209081526040918290208054835181840281018401909452808452606093928301828280156107d257602002820191906000526020600020905b8154815260200190600101908083116107be575b50505050509050919050565b6000818152600260208181526040808420815160808101835281548152600182015493810193909352928301549082018190526003909201546001600160a01b03166060820152829182918291820361084557600080600080945094509450945050610860565b60018160400151826000015183606001519450945094509450505b9193509193565b600082815260046020526040902054829060ff166108985760405163b5c6c3ab60e01b815260040160405180910390fd5b600083815260016020818152604092839020835160a08101855281548152928101546001600160a01b03908116928401839052600282015490811694840194909452600160a01b90930460ff161515606083015260039092015460808201528491331480159061091e575080604001516001600160a01b0316336001600160a01b031614155b1561093c5760405163ea8e4eb560e01b815260040160405180910390fd5b600085815260016020818152604092839020835160a08101855281548152928101546001600160a01b0390811692840192909252600281015491821693830193909352600160a01b900460ff161515606082018190526003909201546080820152906109bb57604051637f0ed44d60e11b815260040160405180910390fd5b60008581526002602081905260409091200154156109ec5760405163b8cdb9bd60e01b815260040160405180910390fd5b60408051608081018252878152602080820188815242838501908152336060850181815260008c8152600280875290889020965187559351600187015591519285019290925551600390930180546001600160a01b0319166001600160a01b039094169390931790925582518881529081019190915287917f65beb38acd92cb0f98fb54a2eb7bdfc00e848e40abd871c0fda3282f03668316910160405180910390a2505050505050565b600060208284031215610aa957600080fd5b5035919050565b600060208284031215610ac257600080fd5b81356001600160a01b0381168114610ad957600080fd5b9392505050565b6020808252825182820181905260009190848201906040850190845b81811015610b1857835183529284019291840191600101610afc565b50909695505050505050565b60008060408385031215610b3757600080fd5b50508035926020909101359150565b600060018201610b6657634e487b7160e01b600052601160045260246000fd5b506001019056fea26469706673582212204e0a49fd0dba2aca55b32cdce2f839bb320d065af73e1b3d01cdb3b68842b34264736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
